(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17689,32637,e=>{"use strict";var t=e.i(26549);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:a,height:a,stroke:e,strokeWidth:i?24*Number(l)/Number(a):l,className:r("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...n},o)=>(0,t.createElement)(l,{ref:o,iconNode:s,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=a(e),i};e.s(["default",()=>i],32637);let n=i("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>n],17689)},65209,e=>{"use strict";var t=e.i(90081),r=e.i(26549),a=e.i(96238),s=e.i(34053),l=e.i(17689);function i(){let[e,i]=(0,r.useState)(1),[n,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(["","","",""]),[u,h]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),g=(0,s.useRouter)(),f=async()=>{if(!n.trim())return void b("Please enter your phone number");b(""),h(!0);try{let e=await a.api.post("/api/auth/send-otp",{phone:n.trim()});e.data?.success&&i(2)}catch(e){console.error(e),b("Could not send OTP. Is the server running?")}finally{h(!1)}},v=async()=>{let e=c.join("");if(4!==e.length)return void b("Enter 4-digit OTP");b(""),m(!0);try{let t=await a.api.post("/api/auth/verify-otp",{phone:n.trim(),otp:e});t.data?.token&&t.data?.user&&(localStorage.setItem("satark_token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),g.push("/"))}catch(e){console.error(e),b(e?.response?.data?.error||"Invalid OTP. Try again.")}finally{m(!1)}};return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-6 font-sans",children:(0,t.jsxs)("div",{className:"w-full max-w-sm space-y-6 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(l.Shield,{className:"w-10 h-10 text-blue-500",fill:"currentColor"}),(0,t.jsx)("h1",{className:"text-4xl font-extrabold text-blue-500 tracking-tighter",children:"SATARK INDIA"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:1===e?"Enter your phone number to receive OTP":"Enter the 4-digit OTP sent to your phone"}),1===e?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"tel",placeholder:"Mobile Number (e.g. 6388853440)",value:n,onChange:e=>{o(e.target.value),b("")},className:"w-full p-4 rounded-2xl bg-slate-800 border border-slate-700 focus:border-blue-500 outline-none transition-all text-foreground"}),p&&(0,t.jsx)("p",{className:"text-destructive text-sm",children:p}),(0,t.jsx)("button",{onClick:f,disabled:u,className:"w-full p-4 bg-blue-600 hover:bg-blue-700 rounded-2xl font-bold text-lg shadow-lg shadow-blue-900/20 transition-all active:scale-95 disabled:opacity-50",children:u?"Sending...":"Send OTP"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2",children:c.map((e,r)=>(0,t.jsx)("input",{type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(t.length>1)return;let r=[...c];r[e]=t,d(r),b("")})(r,e.target.value),className:"w-12 h-14 rounded-xl bg-slate-800 border-2 border-slate-700 focus:border-blue-500 text-center text-xl font-bold outline-none transition-all"},r))}),p&&(0,t.jsx)("p",{className:"text-destructive text-sm",children:p}),(0,t.jsx)("button",{onClick:v,disabled:x,className:"w-full p-4 bg-blue-600 hover:bg-blue-700 rounded-2xl font-bold text-lg shadow-lg shadow-blue-900/20 transition-all active:scale-95 disabled:opacity-50",children:x?"Verifying...":"Verify & Access Dashboard"}),(0,t.jsx)("button",{onClick:()=>{i(1),d(["","","",""]),b("")},className:"text-slate-400 hover:text-white text-sm underline",children:"Change Number"})]})]})})}e.s(["default",()=>i])}]);